#+STARTUP: overview
#+latex_class_options: [12pt]

* Contents
:PROPERTIES:
:VISIBILITY:  all
:TOC:      :include all :ignore this :depth 2
:END:
:CONTENTS:
- [[#function-fields][Function Fields]]
- [[#divisors][Divisors]]
- [[#tate-pairings][(T)ate pairings]]
:END:

* Function Fields
#+BEGIN_SRC sage :session . :exports both
K.<x> = FunctionField(GF(2))
R.<y> = K[]

K
R

#q=23
#F.<x> = FunctionField(GF(q^2, modulus=i^2 + 1, name='i'));
#_.<y> = F[];
#F
#+END_SRC

#+RESULTS:
: Rational function field in x over Finite Field of size 2
: Univariate Polynomial Ring in y over Rational function field in x over Finite Field of size 2

* IN-PROGRESS Divisors
#+BEGIN_SRC sage  :session . :exports both
F = GF(5)
#E = EllipticCurve(F, [1, 0])  # y^2 = x^3 + x
    # E

      # E.points()

      # #Fxy.<x,y> = F[];

      # P=E.random_point()
      # P = E(2,0)
      # #P.multiplicity()

      # # f = x - 2
      # E.divisor(P)

      # E.function_field()

#  F=GF(5)
P2 = AffineSpace(2, F, names = 'xy')
P2
R = P2.coordinate_ring()
R
x, y = R.gens()

f = y^2 - x^3 - x

C = Curve(f)
C

#K = FractionField(R)
#K

r = 1/x
r
#C.divisor_of_function(r)

#+END_SRC

#+RESULTS:
: Affine Space of dimension 2 over Finite Field of size 5
: Multivariate Polynomial Ring in x, y over Finite Field of size 5
: Affine Plane Curve over Finite Field of size 5 defined by -x^3 + y^2 - x
: 1/x
* IN-PROGRESS (T)ate pairings

- Documentation:
  - https://doc.sagemath.org/html/en/reference/arithmetic_curves/sage/schemes/elliptic_curves/ell_point.html#sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.ate_pairing

#+BEGIN_SRC sage  :session . :exports both
p = 7549;
A = 0;
B = 1;

n = 157;
k = 6;
t = 14


F = GF(p);
E = EllipticCurve(F, [A, B])

R.<x> = F[];
K.<a> = GF((p,k), modulus=x^k+2)

EK = E.base_extend(K)
P = EK(3050, 5371);
Q = EK(6908*a^4, 3231*a^3)

P.ate_pairing(Q, n, k, t)

s = Integer(randrange(1, n))
(s*P).ate_pairing(Q, n, k, t) == P.ate_pairing(s*Q, n, k, t)
P.ate_pairing(s*Q, n, k, t) == P.ate_pairing(Q, n, k, t)^s
#+END_SRC

#+RESULTS:
: 6708*a^5 + 4230*a^4 + 4350*a^3 + 2064*a^2 + 4022*a + 6733
: True
: True
